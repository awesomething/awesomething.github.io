<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="viewport"
          content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>API Credentials Setup Guide - Candidate Screening Workflow</title>
    <meta name="description" content="Blog of an AI Engineer"/>
    <meta name="keywords" content="blog,developer blog,ai engineering blog"/>

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Alegreya:400,400i|Lato:400,400i,700,900|Roboto+Mono:400,300">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/shades-of-purple.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>

    <link rel="stylesheet" href="/css/normalize.css"/>
    <link rel="stylesheet" href="/css/theme.css"/>
</head>
<body>
<nav class="nav">
    <div class="nav__left">
        <a href="/">Home</a>
        <a href="/about">About</a>
    </div>
    <div class="nav__right">
        <a target="_blank" href="https://github.com/awesomething" class="link-github">GitHub</a>
        <a target="_blank" href="https://twitter.com/" class="link-twitter">Twitter</a>
        <a href="mailto:henryebomah@gmail.com" class="link-email">Email</a>
    </div>
</nav>

<article class="mar-b-7">
    <header class="text-center">
        <time class="mar-b-6" datetime="Tue, November 12, 2024">Tue, November 12, 2024</time>
        <h1 class="mar-b-7">API Credentials Setup Guide - Candidate Screening Workflow</h1>
    </header>
    <p>This guide walks you through setting up all the API credentials needed for the Candidate Screening AI Agent workflow in n8n Cloud.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>An n8n Cloud account (sign up at <a href="https://n8n.io">n8n.io</a>)</li>
<li>A Google account (Gmail)</li>
<li>Access to Google Cloud Console (for API keys)</li>
</ul>
<hr />
<h2 id="overviewofrequiredcredentials">Overview of Required Credentials</h2>
<p>This workflow requires <strong>3 types of credentials</strong>:</p>
<ol>
<li><strong>Google Gemini API</strong> - For AI-powered resume analysis</li>
<li><strong>Gmail OAuth2</strong> - For sending email notifications</li>
<li><strong>Google Sheets OAuth2</strong> - For logging candidates to a spreadsheet</li>
</ol>
<h3 id="navigatingthen8ncredentialsinterface">ðŸ“¸ Navigating the n8n Credentials Interface</h3>
<p><strong>Visual Reference:</strong> When you open the Credentials section in n8n Cloud, you'll see:</p>
<ul>
<li>A <strong>left sidebar</strong> with tabs including "Credentials" highlighted</li>
<li>A <strong>search bar</strong> at the top to find credential types</li>
<li>A list of <strong>existing credentials</strong> (if any) with service logos/icons</li>
<li>An <strong>"+ Add Credential"</strong> button or option in the menu</li>
<li>A <strong>pop-up window</strong> that appears when adding new credentials, showing:</li>
<li>A search field to find the service (e.g., "gmail", "google sheets")</li>
<li>A list of matching credential types to select</li>
<li>Once selected, a configuration form with required fields</li>
</ul>
<p><strong>Documentation:</strong> <a href="https://docs.n8n.io/credentials/add-edit-credentials/">n8n Credentials Documentation</a> - General guide on creating and editing credentials</p>
<hr />
<h2 id="step1setupgooglegeminiapicredentials">Step 1: Set Up Google Gemini API Credentials</h2>
<p>The Google Gemini API is used by the AI Agent to analyze resumes and rate candidates.</p>
<p><strong>ðŸ“¸ What You'll See:</strong> The n8n credentials interface shows a searchable list of available integrations. When you search for "Google Gemini" or "Google PaLM", you'll see a credential type with a simple API key input field.</p>
<h3 id="11getyourgooglegeminiapikey">1.1 Get Your Google Gemini API Key</h3>
<ol>
<li>Go to <a href="https://makersuite.google.com/app/apikey">Google AI Studio</a> or <a href="https://console.cloud.google.com/">Google Cloud Console</a></li>
<li>Sign in with your Google account</li>
<li>Navigate to <strong>APIs & Services</strong> â†’ <strong>Credentials</strong></li>
<li>Click <strong>+ CREATE CREDENTIALS</strong> â†’ <strong>API Key</strong></li>
<li>Copy your API key (you'll need this in n8n)</li>
<li><strong>Important:</strong> Restrict the API key to "Generative Language API" for security</li>
</ol>
<h3 id="12addcredentialsinn8ncloud">1.2 Add Credentials in n8n Cloud</h3>
<ol>
<li>Log in to your <a href="https://app.n8n.cloud">n8n Cloud</a> account</li>
<li>Click on your profile icon (top right) â†’ <strong>Settings</strong></li>
<li>Navigate to <strong>Credentials</strong> in the left sidebar</li>
<li>Click <strong>+ Add Credential</strong></li>
<li>Search for <strong>"Google Gemini"</strong> or <strong>"Google PaLM"</strong></li>
<li>Select <strong>Google Gemini (PaLM) API</strong></li>
<li>Enter a name for your credential (e.g., "Google Gemini API Key")</li>
<li>Paste your API key in the <strong>API Key</strong> field</li>
<li>Click <strong>Save</strong></li>
</ol>
<p>âœ… <strong>Test:</strong> You can test the connection by clicking "Test" if available.</p>
<p><strong>ðŸ“¸ Visual Guide:</strong></p>
<ul>
<li><strong>n8n Documentation:</strong> <a href="https://docs.n8n.io/integrations/builtin/credentials/googleai/">Google Gemini (PaLM) credentials setup</a> - Contains screenshots of the credential setup interface</li>
<li><strong>Image Reference:</strong> The n8n credentials page shows a search interface where you can type "Google Gemini" or "Google PaLM" to find the credential type. The credential form will display a single "API Key" field where you paste your key from Google AI Studio.</li>
</ul>
<hr />
<h2 id="step2setupgmailoauth2credentials">Step 2: Set Up Gmail OAuth2 Credentials</h2>
<p>Gmail credentials are used to send two types of emails:</p>
<ul>
<li>Confirmation email to candidates</li>
<li>Notification email to HR team</li>
</ul>
<p><strong>ðŸ“¸ What You'll See:</strong> The Gmail OAuth2 setup in n8n displays a form with OAuth Redirect URL, Client ID, and Client Secret fields. A yellow banner provides helpful instructions about using the redirect URL in Google Cloud Console.</p>
<h3 id="21createoauth20credentialsingooglecloudconsole">2.1 Create OAuth 2.0 Credentials in Google Cloud Console</h3>
<ol>
<li>Go to <a href="https://console.cloud.google.com/">Google Cloud Console</a></li>
<li>Create a new project or select an existing one</li>
<li>Navigate to <strong>APIs & Services</strong> â†’ <strong>Credentials</strong></li>
<li>Click <strong>+ CREATE CREDENTIALS</strong> â†’ <strong>OAuth client ID</strong></li>
<li>If prompted, configure the OAuth consent screen:</li>
</ol>
<ul>
<li>Choose <strong>External</strong> (unless you have a Google Workspace)</li>
<li>Fill in required fields:<ul>
<li>App name: "n8n Gmail Integration"</li>
<li>User support email: Your email</li>
<li>Developer contact: Your email</li></ul></li>
<li>Click <strong>Save and Continue</strong></li>
<li>Add scopes: <code>https://www.googleapis.com/auth/gmail.send</code></li>
<li>Click <strong>Save and Continue</strong></li>
<li>Add test users (your email) if needed</li>
<li>Click <strong>Save and Continue</strong> â†’ <strong>Back to Dashboard</strong></li>
</ul>
<ol>
<li>Back in Credentials, click <strong>+ CREATE CREDENTIALS</strong> â†’ <strong>OAuth client ID</strong></li>
<li>Choose <strong>Web application</strong> as the application type</li>
<li>Name it: "n8n Gmail OAuth"</li>
<li>Under <strong>Authorized redirect URIs</strong>, add:</li>
</ol>
<pre><code>   https://app.n8n.cloud/rest/oauth2-credential/callback
</code></pre>
<p>(If using self-hosted n8n, use your n8n URL instead)</p>
<ol start="10">
<li>Click <strong>Create</strong></li>
<li><strong>Copy both the Client ID and Client Secret</strong> (you'll need these)</li>
</ol>
<h3 id="22enablegmailapi">2.2 Enable Gmail API</h3>
<ol>
<li>In Google Cloud Console, go to <strong>APIs & Services</strong> â†’ <strong>Library</strong></li>
<li>Search for <strong>"Gmail API"</strong></li>
<li>Click on it and press <strong>Enable</strong></li>
</ol>
<h3 id="23addgmailcredentialsinn8ncloud">2.3 Add Gmail Credentials in n8n Cloud</h3>
<ol>
<li>In n8n Cloud, go to <strong>Settings</strong> â†’ <strong>Credentials</strong></li>
<li>Click <strong>+ Add Credential</strong></li>
<li>Search for <strong>"Gmail"</strong></li>
<li>Select <strong>Gmail OAuth2 API</strong></li>
<li>Enter a name (e.g., "My Gmail Account")</li>
<li>Fill in the fields:</li>
</ol>
<ul>
<li><strong>Client ID:</strong> Paste your OAuth Client ID from Step 2.1</li>
<li><strong>Client Secret:</strong> Paste your OAuth Client Secret from Step 2.1</li>
</ul>
<ol>
<li>Click <strong>Connect my account</strong></li>
<li>You'll be redirected to Google to authorize n8n</li>
<li>Select your Gmail account and click <strong>Allow</strong></li>
<li>You'll be redirected back to n8n</li>
<li>Click <strong>Save</strong></li>
</ol>
<p>âœ… <strong>Test:</strong> The credential should now show as connected.</p>
<p><strong>ðŸ“¸ Visual Guide:</strong></p>
<ul>
<li><strong>n8n Documentation:</strong> <a href="https://docs.n8n.io/integrations/builtin/credentials/gmail/">Gmail OAuth2 credentials setup</a> - Shows the OAuth2 credential form</li>
<li><strong>Image Reference:</strong> The n8n Gmail OAuth2 credential setup page displays:</li>
<li>An <strong>OAuth Redirect URL</strong> field (pre-filled with <code>http://localhost:5678/rest/oauth2-credential/callback</code> for self-hosted, or <code>https://app.n8n.cloud/rest/oauth2-credential/callback</code> for n8n Cloud)</li>
<li><strong>Client ID</strong> field (required)</li>
<li><strong>Client Secret</strong> field (required)</li>
<li>A yellow banner with instructions: "In Google Drive, use the URL above when prompted to enter an OAuth callback or redirect URL"</li>
<li>A <strong>"Connect my account"</strong> button that initiates the OAuth flow</li>
<li><strong>Video Tutorial:</strong> <a href="https://www.youtube.com/watch?v=miUnVwkndbM">Connect n8n to the Google API in 5 minutes | Sheets, Drive, Gmail, etc.</a> - Visual walkthrough of the OAuth setup process</li>
</ul>
<hr />
<h2 id="step3setupgooglesheetsoauth2credentials">Step 3: Set Up Google Sheets OAuth2 Credentials</h2>
<p>Google Sheets credentials are used to automatically log candidate information and AI ratings.</p>
<p><strong>ðŸ“¸ What You'll See:</strong> Similar to Gmail, the Google Sheets OAuth2 credential form shows the redirect URL, Client ID, and Client Secret fields. The interface includes a reminder to enable the Google Sheets API in Google Cloud Console.</p>
<h3 id="31createoauth20credentialsforgooglesheets">3.1 Create OAuth 2.0 Credentials for Google Sheets</h3>
<ol>
<li>In <a href="https://console.cloud.google.com/">Google Cloud Console</a>, go to <strong>APIs & Services</strong> â†’ <strong>Credentials</strong></li>
<li>Click <strong>+ CREATE CREDENTIALS</strong> â†’ <strong>OAuth client ID</strong></li>
<li>Choose <strong>Web application</strong></li>
<li>Name it: "n8n Google Sheets OAuth"</li>
<li>Under <strong>Authorized redirect URIs</strong>, add:</li>
</ol>
<pre><code>   https://app.n8n.cloud/rest/oauth2-credential/callback
</code></pre>
<ol start="6">
<li>Click <strong>Create</strong></li>
<li><strong>Copy both the Client ID and Client Secret</strong></li>
</ol>
<h3 id="32enablegooglesheetsapi">3.2 Enable Google Sheets API</h3>
<ol>
<li>In Google Cloud Console, go to <strong>APIs & Services</strong> â†’ <strong>Library</strong></li>
<li>Search for <strong>"Google Sheets API"</strong></li>
<li>Click on it and press <strong>Enable</strong></li>
</ol>
<h3 id="33addgooglesheetscredentialsinn8ncloud">3.3 Add Google Sheets Credentials in n8n Cloud</h3>
<ol>
<li>In n8n Cloud, go to <strong>Settings</strong> â†’ <strong>Credentials</strong></li>
<li>Click <strong>+ Add Credential</strong></li>
<li>Search for <strong>"Google Sheets"</strong></li>
<li>Select <strong>Google Sheets OAuth2 API</strong></li>
<li>Enter a name (e.g., "My Google Sheets")</li>
<li>Fill in the fields:</li>
</ol>
<ul>
<li><strong>Client ID:</strong> Paste your OAuth Client ID from Step 3.1</li>
<li><strong>Client Secret:</strong> Paste your OAuth Client Secret from Step 3.1</li>
</ul>
<ol>
<li>Click <strong>Connect my account</strong></li>
<li>Authorize n8n to access Google Sheets</li>
<li>Click <strong>Save</strong></li>
</ol>
<p>âœ… <strong>Test:</strong> The credential should now show as connected.</p>
<p><strong>ðŸ“¸ Visual Guide:</strong></p>
<ul>
<li><strong>n8n Documentation:</strong> <a href="https://docs.n8n.io/integrations/builtin/credentials/googlesheets/">Google Sheets OAuth2 credentials setup</a> - Contains screenshots of the credential configuration</li>
<li><strong>Image Reference:</strong> The Google Sheets OAuth2 setup interface in n8n is similar to Gmail:</li>
<li><strong>OAuth Redirect URL</strong> field showing the callback URL</li>
<li><strong>Client ID</strong> and <strong>Client Secret</strong> input fields</li>
<li>Yellow information banner: "Make sure that you have enabled the Google Sheets API in the Google Cloud Console"</li>
<li><strong>"Connect my account"</strong> button to start OAuth authorization</li>
<li><strong>Video Tutorial:</strong> <a href="https://www.youtube.com/watch?v=miUnVwkndbM">Connect n8n to the Google API in 5 minutes</a> - Covers Google Sheets setup along with other Google services</li>
<li><strong>Blog Post:</strong> <a href="https://blog.n8n.io/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/">Sending Automated Congratulations with Google Sheets, Twilio, and n8n</a> - Includes screenshots of Google Sheets integration</li>
</ul>
<hr />
<h2 id="step4prepareyourgooglesheet">Step 4: Prepare Your Google Sheet</h2>
<p>Before using the workflow, create a Google Sheet with the following columns:</p>
<ol>
<li>Open <a href="https://sheets.google.com">Google Sheets</a></li>
<li>Create a new spreadsheet</li>
<li>Name it: "Candidate Screening Results"</li>
<li>Add these column headers in Row 1:</li>
</ol>
<ul>
<li><strong>Full Name</strong></li>
<li><strong>E-mail</strong></li>
<li><strong>Linkedin</strong></li>
<li><strong>Expectation</strong></li>
<li><strong>CV</strong></li>
<li><strong>AI Rating</strong></li>
</ul>
<ol>
<li>Copy the <strong>Spreadsheet ID</strong> from the URL:</li>
</ol>
<pre><code>   https://docs.google.com/spreadsheets/d/[SPREADSHEET_ID]/edit
</code></pre>
<ol start="6">
<li>You'll use this ID when configuring the Google Sheets node in the workflow</li>
</ol>
<hr />
<h2 id="step5assigncredentialstoworkflownodes">Step 5: Assign Credentials to Workflow Nodes</h2>
<p>Once all credentials are set up, you need to assign them to the workflow nodes:</p>
<h3 id="51importthecandidatescreeningworkflow">5.1 Import the Candidate Screening Workflow</h3>
<ol>
<li>In n8n Cloud, click <strong>+ Add workflow</strong></li>
<li>Click the <strong>â‹®</strong> menu (three dots) â†’ <strong>Import from File</strong></li>
<li>Upload the <code>Candidate Screening.json</code> file</li>
<li>The workflow will import with placeholder credentials</li>
</ol>
<h3 id="52assigngooglegeminicredentials">5.2 Assign Google Gemini Credentials</h3>
<ol>
<li>Click on the <strong>"Google Gemini Chat Model"</strong> node</li>
<li>In the <strong>Credential</strong> dropdown, select your Google Gemini credential</li>
<li>The node should now show your credential name</li>
</ol>
<h3 id="53assigngmailcredentials">5.3 Assign Gmail Credentials</h3>
<ol>
<li>Click on the <strong>"Confirmation of CV Submission"</strong> node</li>
<li>In the <strong>Credential</strong> dropdown, select your Gmail OAuth2 credential</li>
<li>Repeat for the <strong>"Inform HR New CV Received"</strong> node</li>
</ol>
<h3 id="54assigngooglesheetscredentials">5.4 Assign Google Sheets Credentials</h3>
<ol>
<li>Click on the <strong>"Candidate Lists"</strong> node</li>
<li>In the <strong>Credential</strong> dropdown, select your Google Sheets OAuth2 credential</li>
<li>Update the <strong>Document ID</strong> field with your spreadsheet ID from Step 4</li>
</ol>
<hr />
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="issueinvalidapikeyforgooglegemini">Issue: "Invalid API Key" for Google Gemini</h3>
<p><strong>Solution:</strong></p>
<ul>
<li>Verify you copied the full API key</li>
<li>Check that the API key is enabled in Google Cloud Console</li>
<li>Ensure "Generative Language API" is enabled for your project</li>
</ul>
<h3 id="issueoauth2connectionfailedforgmailsheets">Issue: "OAuth2 connection failed" for Gmail/Sheets</h3>
<p><strong>Solution:</strong></p>
<ul>
<li>Verify the redirect URI matches exactly: <code>https://app.n8n.cloud/rest/oauth2-credential/callback</code></li>
<li>Check that Gmail API or Google Sheets API is enabled in Google Cloud Console</li>
<li>Try disconnecting and reconnecting the credential</li>
<li>Ensure you're using the correct OAuth client (not a service account)</li>
</ul>
<h3 id="issuepermissiondeniedwhenwritingtogooglesheets">Issue: "Permission denied" when writing to Google Sheets</h3>
<p><strong>Solution:</strong></p>
<ul>
<li>Make sure the Google account you authorized has edit access to the spreadsheet</li>
<li>Share the spreadsheet with the authorized email if needed</li>
<li>Check that the spreadsheet ID is correct</li>
</ul>
<h3 id="issueemailnotsendingfromgmail">Issue: "Email not sending" from Gmail</h3>
<p><strong>Solution:</strong></p>
<ul>
<li>Verify the Gmail account has "Less secure app access" enabled (if required)</li>
<li>Check that the "Send email" scope was added during OAuth consent screen setup</li>
<li>Ensure the email addresses in the workflow are valid</li>
</ul>
<hr />
<h2 id="securitybestpractices">Security Best Practices</h2>
<ol>
<li><strong>Restrict API Keys:</strong> Limit your Google Gemini API key to only the APIs you need</li>
<li><strong>Use OAuth2:</strong> Always use OAuth2 for Gmail and Google Sheets (more secure than API keys)</li>
<li><strong>Regular Rotation:</strong> Rotate your API keys periodically</li>
<li><strong>Monitor Usage:</strong> Check Google Cloud Console regularly for unexpected API usage</li>
<li><strong>Limit Scope:</strong> Only grant the minimum permissions needed (e.g., <code>gmail.send</code> only, not full Gmail access)</li>
</ol>
<hr />
<h2 id="quickchecklist">Quick Checklist</h2>
<p>Before running the workflow, verify:</p>
<ul>
<li>[ ] Google Gemini API key is set up and working</li>
<li>[ ] Gmail OAuth2 credentials are connected</li>
<li>[ ] Google Sheets OAuth2 credentials are connected</li>
<li>[ ] Google Sheet is created with correct column headers</li>
<li>[ ] Spreadsheet ID is updated in the "Candidate Lists" node</li>
<li>[ ] All nodes have credentials assigned</li>
<li>[ ] Workflow is activated (toggle in top right)</li>
</ul>
<hr />
<h2 id="nextsteps">Next Steps</h2>
<p>Once all credentials are set up:</p>
<ol>
<li><strong>Test the workflow</strong> by submitting a test application through the form</li>
<li><strong>Customize the AI prompt</strong> in the "Using AI Analysis &amp; Rating" node for your specific job requirements</li>
<li><strong>Update email addresses</strong> in the Gmail nodes to match your HR team</li>
<li><strong>Share the form link</strong> from the "Application Form" node with candidates</li>
</ol>
<hr />
<h2 id="needhelp">Need Help?</h2>
<p>If you encounter issues:</p>
<ol>
<li>Check the n8n <a href="https://docs.n8n.io">documentation</a></li>
<li>Review the <a href="https://community.n8n.io">n8n community forum</a></li>
<li>Verify all APIs are enabled in Google Cloud Console</li>
<li>Double-check redirect URIs match exactly</li>
</ol>
<hr />
<p><strong>Congratulations!</strong> You're now ready to use the AI Candidate Screening workflow. ðŸŽ‰</p>
</article>



<footer class="text-center mar-tb-6">
    Â© 2025 Henry Ebomah, unless otherwise stated.
</footer>

<script>hljs.highlightAll();</script>
</body>
</html>

